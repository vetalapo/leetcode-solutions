using BenchmarkDotNet.Attributes;
using BenchmarkDotNet.Order;

using Problems;

namespace Benchmarks;

[MemoryDiagnoser]
[Orderer( SummaryOrderPolicy.FastestToSlowest )]
[RankColumn]
public class RemoveNthNodeFromEndOfListBenchmarks
{
    private static readonly RemoveNthNodeFromEndOfList RemoveNthNodeFromEndOfList = new();

    private static readonly int[] Input =
    {
        1262, 1, 4273, 2, 6698, 3, 3754, 4, 8936, 5, 2184, 6, 2560, 7, 4953, 6982, 50 ,1199, 7288, 9026, 15, 824,
        9159, 7967, 1365, 8970, 8322, 3513, 2122, 7736, 9957, 30, 997, 5202, 4352, 1212, 3241, 1305, 4362, 2470,
        2963, 7303, 3776, 1097, 8692, 4018, 1601, 6053, 1806, 8160, 1664, 9000, 7315, 1803, 9577, 2675, 6935, 88,
        501, 1576, 3752, 2864, 4417, 3174, 2950, 2254, 5667, 3829, 1213, 8655, 6398, 6594, 5114, 5303, 3508, 9821,
        8672, 44, 317, 5436, 7031, 5242, 3091, 11, 728, 2423, 2996, 8769, 9527, 5351, 5801, 6977, 7312, 8380, 1597,
        5092, 8929, 3828, 5157, 4083, 6792, 3739, 1, 695, 2482, 5829, 2475, 6624, 2126, 5971, 21, 431, 3234, 3431, 99,
        368, 1231, 4694, 7057, 9276, 3826, 4524, 9938, 1324, 2076, 7789, 1214, 5622, 2577, 6377, 2321, 2397, 4286,
        6684, 6401, 7, 587, 1221, 4720, 6943, 1751, 2273, 6784, 65, 215, 7230, 5986, 1435, 7807, 4654, 8186, 712, 9896,
        4687, 5172, 5695, 5283, 5073, 1349, 6755, 6428, 4948, 9778, 2783, 1244, 9603, 3714, 7075, 7022, 934, 3160, 2173,
        1460, 8486, 1603, 8078, 6855, 1994, 144, 6881, 2381, 2605, 5708, 5499, 6063, 8694, 5230, 128, 6093, 4301, 9254,
        9764, 6007, 6326, 2210, 8497, 1263, 6538, 3274, 8240, 6235, 3631, 4776, 3928, 724, 2179, 6850, 857, 588, 9379,
        9742, 6187, 5858, 1367, 546, 3288, 7108, 6871, 8438, 9942, 6566, 1945, 7929, 7074, 9766, 4612, 2187, 7422, 7343,
        253, 5700, 9933, 7378, 7622, 6108, 9919, 5038, 3744, 9620, 7595, 4013, 316, 1639, 8271, 3598, 7106, 8417, 7505,
        2000, 4489, 8849, 9173, 6625, 5555, 7249, 4146, 9263, 2127, 4770, 7152, 3384, 2186, 2891, 3529, 3322, 2125, 5840,
        4923, 5863, 8100, 9677, 9846, 376, 1866, 8278, 3638, 2928, 327, 5597, 4151, 491, 7299, 4808, 2077, 7965, 9339,
        2428, 2676, 2214, 5898, 6854, 925, 4003, 7761, 7785, 5575, 480, 7228, 4960, 5905, 9686, 7202, 6130, 9622, 6003,
        6990, 5899, 9935, 5835, 5445, 2317, 1219, 3637, 6948, 3204, 1792, 5505, 1316, 9430, 9134, 800, 4232, 4135, 4064,
        3559, 471, 5709, 9258, 882, 9555, 2630, 7340, 1880, 7824, 6320, 5533, 8621, 6464, 5818, 8551, 7997, 7674, 6547,
        2846, 3152, 2119, 5605, 9240, 8047, 4077, 7225, 6092, 7726, 6295, 7532, 3995, 7954, 2862, 6587, 5125, 2330, 3192,
        727, 883, 6951, 6029, 524, 100, 3780, 5367, 1126, 9790, 6722, 1508, 2326, 8225, 4979, 9568, 4231, 7200, 9480, 1171,
        6105, 9533, 9674, 7679, 8516, 6129, 7585, 9038, 1659, 1392, 8871, 3957, 1483, 3977, 6415, 3260, 2951, 3952, 1767,
        1362, 3122, 477, 191, 6088, 9625, 6515, 3348, 2264, 1002, 3993, 7481, 7771, 6120, 8169, 845, 7311, 1456, 3335,
        7648, 4396, 9791, 2529, 821, 3033, 7589, 9651, 4041, 9416, 6229, 8990, 5260, 9583, 6327, 1419, 1076, 1755, 6798,
        6010, 3986, 970, 7527, 1557, 6776, 7974, 65, 5379, 3307, 7555, 9890, 938, 6454, 3725, 6161, 5782, 9099, 5023,
        646, 1716, 3528, 8300, 5164, 2640, 9908, 5671, 7489, 4635, 4036, 5701, 262, 957, 1850, 4370, 5834, 338, 8867, 2958,
        7, 4382, 7446, 4562, 7551, 2972, 6927, 5628, 3784, 4976, 350, 4421, 5531, 2436, 1257, 8671, 2692, 4477, 4965, 8824,
        9999, 9365, 5563, 6155, 1354, 5804, 5705, 8765, 1416, 4791, 6457, 9575, 9290, 7714, 2530, 9733, 5321, 96, 6564,
        6893, 7716, 8416, 312, 806, 1117, 8085, 5279, 3290, 3218, 156, 3695, 7046, 6803, 7297, 4467, 9359, 1496, 4307,
        1136, 6809, 4797, 3805, 7169, 7243, 2290, 9739, 2484, 7181, 9835, 4735, 6073, 63, 9104, 2176, 1310, 6225, 6146,
        4947, 3417, 1472, 8048, 4225, 6317, 6381, 8667, 7921, 6115, 9230, 6617, 7784, 5583, 2002, 7526, 1702, 6885, 6651,
        9543, 3004, 1374, 3858, 7290, 5120, 1503, 7823, 2479, 8390, 6427, 7941, 4970, 9697, 398, 6668, 8940, 1575, 619,
        7133, 60, 3683, 4964, 2414, 4499, 3456, 8288, 7972, 8935, 6541, 6019, 9397, 7199, 8307, 147, 3116, 6406, 5437,
        309, 3703, 2350, 7657, 5981, 504, 6074, 799, 8959, 1469, 7669, 8012, 4425, 7268, 5579, 8496, 4538, 8232, 1976,
        4855, 7335, 4563, 8399, 6325, 7919, 5908, 7517, 6984, 5102, 9089, 9977, 2465, 5359, 1366, 7888, 7194, 9724, 2907
    };

    [Benchmark]
    public void RemoveNthFromEnd() => RemoveNthNodeFromEndOfList.RemoveNthFromEnd( ListNode.CreateNodes( Input ), 5 );

    [Benchmark]
    public void RemoveNthFromEndProper() => RemoveNthNodeFromEndOfList.RemoveNthFromEndProper( ListNode.CreateNodes( Input ), 5 );
}
